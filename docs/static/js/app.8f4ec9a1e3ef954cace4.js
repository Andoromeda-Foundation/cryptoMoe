webpackJsonp([1],{"2yse":function(t,e){},EEbw:function(t,e){t.exports={version:"0.20.4"}},Jx2w:function(t,e){t.exports=[{constant:!0,inputs:[],name:"total",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"_id",type:"uint256"}],name:"getRose",outputs:[{name:"birthTime",type:"uint64"},{name:"buyer",type:"address"},{name:"message",type:"string"},{name:"from",type:"string"},{name:"to",type:"string"},{name:"value",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"getBalance",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"ceoAddress",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"from",type:"string"},{name:"to",type:"string"},{name:"message",type:"string"}],name:"buyRose",outputs:[{name:"",type:"uint256"}],payable:!0,stateMutability:"payable",type:"function"},{constant:!1,inputs:[],name:"withdrawBalance",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{inputs:[],payable:!1,stateMutability:"nonpayable",type:"constructor"}]},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("7+uW"),s={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("nav",{staticClass:"navbar is-light"},[e("div",{staticClass:"navbar-brand"},[e("router-link",{staticClass:"navbar-item",attrs:{to:{name:"Home"}}},[this._v("\n        ðŸŒ¹ Â Â Â çŽ«ç‘°çˆ±é“¾\n      ")]),this._v(" "),e("router-link",{staticClass:"navbar-item",attrs:{to:{name:"Buy"}}},[this._v("\n        é€TAçŽ«ç‘°\n      ")])],1)]),this._v(" "),e("div",{staticClass:"container main-container"},[e("router-view")],1),this._v(" "),this._m(0)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("footer",{staticClass:"footer"},[e("div",{staticClass:"container"},[e("div",{staticClass:"content has-text-centered"},[e("p",[this._v("\n          â¤ï¸"),e("br"),this._v(" Created by KJlmfe\n        ")])])])])}]};var i=n("VU/8")({name:"App"},s,!1,function(t){n("i38K")},null,null).exports,o=n("/ocq"),r=n("//Fk"),u=n.n(r),c=n("8k0n"),p=n.n(c),m=n("Jx2w"),l=n.n(m),d=window.web3?window.web3.currentProvider:null,y=d?new p.a(d):new p.a(new p.a.providers.HttpProvider("https://ropsten.infura.io/3YGCODEa1zvOrH3kBUjL")),v=y.eth.contract(l.a).at("0xad3D3B1168813790580313996FEC2BE29A62E7A6");window.w=y,window.cc=v,y.eth.defaultAccount=y.eth.accounts[0];var f=function(t){return new u.a(function(e,n){v.getRose(t,function(a,s){return a?n(a):e({birthTime:s[0],buyer:s[1],message:s[2],from:s[3],to:s[4],value:s[5],id:t})})})},_=function(t,e,n,a){return new u.a(function(s,i){v.buyRose(t,e,n,{value:y.toWei(Number(a),"ether"),gas:22e4},function(t,e){return t?i(t):s(e)})})},b=n("uotZ"),h={name:"item-view",data:function(){return{gift:null}},computed:{},created:function(){var t=this;f(this.$route.params.id).then(function(e){t.gift=e}).catch(function(t){console.log(t)})},watch:{},methods:{valueToQuntity:function(t){return Number(Object(b.BigNumber)(t).dividedBy(Object(b.BigNumber)("1000000000000000")))}}},g={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.gift?n("div",{staticClass:"item-view"},[t.gift?n("div",{staticClass:"card"},[n("header",{staticClass:"card-header"},[n("p",{staticClass:"card-header-title"},[t._v("\n        "+t._s(t.gift.from)+" ç»™ "+t._s(t.gift.to)+" é€äº†"+t._s(t.valueToQuntity(t.gift.value))+"æœµçŽ«ç‘°èŠ±ðŸŒ¹\n      ")]),t._v(" "),t._m(0)]),t._v(" "),n("div",{staticClass:"card-content"},[n("div",{staticClass:"content"},[t._v("\n        "+t._s(t.gift.message)+"\n        "),n("br"),t._v(" "),n("p",{staticStyle:{"text-align":"right","margin-top":"10px"}},[n("small",[t._v(t._s(new Date(1e3*Number(t.gift.birthTime)).toLocaleDateString()))])])])])]):t._e()]):t._e()},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("a",{staticClass:"card-header-icon",attrs:{href:"#","aria-label":"more options"}},[e("span",{staticClass:"icon"},[e("i",{staticClass:"fas fa-angle-down",attrs:{"aria-hidden":"true"}})])])}]},w=n("VU/8")(h,g,!1,null,null,null).exports,C=n("Xxa5"),x=n.n(C),T=n("exGp"),k=n.n(T),M={name:"BuyGift",data:function(){return{from:"",to:"",message:"",value:1}},computed:{noMetaMask:function(){return!window.web3}},methods:{onBuy:function(){var t=this;return k()(x.a.mark(function e(){return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t.from,t.to,t.message,t.value),_(t.from,t.to,t.message,.001*t.value).then(function(t){alert("æ‚¨çš„çˆ±æ­£åœ¨è¢«çŸ¿å·¥æ‰“åŒ…è®°å½•åˆ°åŒºå—ä¸Šï¼Œè¯·ç¨åŽåˆ°é¦–é¡µæŸ¥çœ‹")}).catch(function(t){alert("å‡ºé”™å•¦"),console.log(t)});case 2:case"end":return e.stop()}},e,t)}))()}},created:function(){}},E={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"hello"},[t.noMetaMask?n("article",{staticClass:"message is-warning"},[t._m(0),t._v(" "),t._m(1)]):t._e(),t._v(" "),n("h2",{staticClass:"title is-3"},[t._v("é€TAçŽ«ç‘°")]),t._v(" "),n("div",{staticClass:"field"},[n("label",{staticClass:"label"},[t._v("ä½ çš„åå­—")]),t._v(" "),n("div",{staticClass:"control"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.from,expression:"from"}],staticClass:"input",attrs:{type:"text",placeholder:"å¼ ä¸‰"},domProps:{value:t.from},on:{input:function(e){e.target.composing||(t.from=e.target.value)}}})])]),t._v(" "),n("div",{staticClass:"field"},[n("label",{staticClass:"label"},[t._v("TAçš„åå­—")]),t._v(" "),n("div",{staticClass:"control"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.to,expression:"to"}],staticClass:"input",attrs:{type:"text",placeholder:"æŽå››"},domProps:{value:t.to},on:{input:function(e){e.target.composing||(t.to=e.target.value)}}})])]),t._v(" "),n("div",{staticClass:"field"},[n("label",{staticClass:"label"},[t._v("æ•°é‡(1æœµçŽ«ç‘°=0.001 ETH)")]),t._v(" "),n("div",{staticClass:"control"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"value"}],staticClass:"input",attrs:{type:"number"},domProps:{value:t.value},on:{input:function(e){e.target.composing||(t.value=e.target.value)}}})])]),t._v(" "),n("div",{staticClass:"field"},[n("label",{staticClass:"label"},[t._v("çˆ±çš„ç®´è¨€")]),t._v(" "),n("div",{staticClass:"control"},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.message,expression:"message"}],staticClass:"textarea",attrs:{placeholder:"æˆ‘çˆ±ä½ ä¸€ç”Ÿä¸€ä¸–"},domProps:{value:t.message},on:{input:function(e){e.target.composing||(t.message=e.target.value)}}})])]),t._v(" "),n("div",{staticClass:"field is-grouped"},[n("div",{staticClass:"control"},[n("button",{staticClass:"button is-link",on:{click:t.onBuy}},[t._v("ç¡®è®¤")])])]),t._v(" "),t._m(2)])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"message-header"},[e("p",[this._v("æœªæ‰¾åˆ°MetaMask")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"message-body"},[this._v("\n      äº²ï¼Œéœ€è¦ä½¿ç”¨Chromeæµè§ˆå™¨ä¸”å®‰è£…MetaMaskæ’ä»¶ï¼Œæ‰å¯åœ¨åŒºå—é“¾ä¸Šé€TAçŽ«ç‘°ã€‚\n      "),e("a",{attrs:{href:"https://chrome.google.com/webstore/detail/metamask/nkbihfbeogaeaoehlefnkodbefgpgknn?hl=en"}},[this._v("å®‰è£…MetaMask")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("article",{staticClass:"message is-info"},[e("div",{staticClass:"message-body"},[this._v("\n        ç¡®è®¤åŽï¼Œæ‚¨çš„åå­—ã€TAçš„åå­—ã€çŽ«ç‘°æ•°é‡ä»¥åŠçˆ±çš„ç®´è¨€å°†ä¼šæ°¸ä¹…çš„è®°å½•åœ¨åŒºå—é“¾ä¸Šï¼Œæ— æ³•æ›´æ”¹ï¼Œæ— æ³•åˆ é™¤ã€‚\n        æ‚¨æ‰€æ”¯ä»˜çš„ETHï¼Œå…¶ä¸­95%å°†ç”¨äºŽæ…ˆå–„äº‹ä¸šï¼Œå…¨ç¨‹ä¾æ—§é‡‡ç”¨åŒºå—é“¾è®°å½•è·Ÿè¸ªï¼Œå¦å¤–5%å½’åˆçº¦åˆ›å»ºè€…æ‰€æœ‰ï¼Œä¸»è¦ç”¨äºŽç½‘ç«™ç»´æŠ¤ç­‰å¼€é”€ã€‚\n    ")])])}]};var A=n("VU/8")(M,E,!1,function(t){n("2yse")},"data-v-f35c933e",null).exports,B={name:"item-list",data:function(){return{items:[],total:0,displayedTotal:0}},computed:{},created:function(){var t=this;new u.a(function(t,e){v.total(function(n,a){return n?e(n):t(a)})}).then(function(e){t.total=Number(e),t.displayedTotal+=5})},methods:{loadGift:function(t,e){var n=this;return k()(x.a.mark(function a(){var s;return x.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return window.xx=n.items,a.next=3,f(t);case 3:s=a.sent,n.items[e]=s,n.$forceUpdate();case 6:case"end":return a.stop()}},a,n)}))()},loadMore:function(t){this.displayedTotal>=this.total&&alert("æ²¡æœ‰æ›´å¤šå•¦"),this.displayedTotal+=t},valueToQuntity:function(t){return Number(Object(b.BigNumber)(t).dividedBy(Object(b.BigNumber)("1000000000000000")))}},watch:{displayedTotal:function(t){var e=Math.min(t,this.total);console.log(e,"nnn");for(var n=0;n<e;n+=1)if(!this.items[n]){var a=this.total-n-1;this.loadGift(a,n)}}}},N={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"news-view1"},[t._m(0),t._v(" "),n("br"),n("br"),t._v(" "),n("div",{staticClass:"columns is-multiline is-mobile"},t._l(t.items,function(e){return e?n("router-link",{key:e.id,staticClass:"column is-full-mobile is-two-thirds-tablet is-half-desktop is-one-third-widescreen is-one-quarter-fullhd",attrs:{to:{name:"Gift",params:{id:e.id}}}},[n("div",{staticClass:"card"},[n("header",{staticClass:"card-header"},[n("p",{staticClass:"card-header-title"},[t._v("\n              "+t._s(e.from)+" ç»™ "+t._s(e.to)+" é€äº†"+t._s(t.valueToQuntity(e.value))+"æœµçŽ«ç‘°èŠ±ðŸŒ¹\n            ")]),t._v(" "),n("a",{staticClass:"card-header-icon",attrs:{href:"#","aria-label":"more options"}},[n("span",{staticClass:"icon"},[n("i",{staticClass:"fas fa-angle-down",attrs:{"aria-hidden":"true"}})])])]),t._v(" "),n("div",{staticClass:"card-content"},[n("div",{staticClass:"content"},[t._v("\n              "+t._s(e.message)+"\n              "),n("br"),t._v(" "),n("p",{staticStyle:{"text-align":"right","margin-top":"10px"}},[n("small",[t._v(t._s(new Date(1e3*Number(e.birthTime)).toLocaleDateString()))])])])])])]):t._e()})),t._v(" "),n("div",{staticStyle:{"text-align":"center"}},[t.displayedTotal<t.total?n("button",{staticClass:"button",on:{click:function(e){t.loadMore(3)}}},[t._v("åŠ è½½æ›´å¤š")]):t._e()])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("section",{staticClass:"hero is-medium is-danger is-bold"},[e("div",{staticClass:"hero-body"},[e("div",{staticClass:"container"},[e("h1",{staticClass:"title"},[this._v("\n          çŽ«ç‘°çˆ±é“¾\n      ")]),this._v(" "),e("h2",{staticClass:"subtitle"},[this._v("\n        çˆ±TAï¼Œå°±æŠŠçˆ±æ°¸ä¹…çš„è®°å½•åœ¨åŒºå—é“¾ä¸Š\n      ")])])])])}]},R=n("VU/8")(B,N,!1,null,null,null).exports;a.a.use(o.a);var $=new o.a({routes:[{path:"/",name:"Home",component:R},{name:"Gift",path:"/gift/:id(\\d+)",component:w},{name:"Buy",path:"/buy",component:A}]});a.a.config.productionTip=!1,new a.a({el:"#app",router:$,components:{App:i},template:"<App/>"})},"R/pS":function(t,e){t.exports=[{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"name",outputs:[{name:"o_name",type:"bytes32"}],type:"function"},{constant:!0,inputs:[{name:"_name",type:"bytes32"}],name:"owner",outputs:[{name:"",type:"address"}],type:"function"},{constant:!0,inputs:[{name:"_name",type:"bytes32"}],name:"content",outputs:[{name:"",type:"bytes32"}],type:"function"},{constant:!0,inputs:[{name:"_name",type:"bytes32"}],name:"addr",outputs:[{name:"",type:"address"}],type:"function"},{constant:!1,inputs:[{name:"_name",type:"bytes32"}],name:"reserve",outputs:[],type:"function"},{constant:!0,inputs:[{name:"_name",type:"bytes32"}],name:"subRegistrar",outputs:[{name:"",type:"address"}],type:"function"},{constant:!1,inputs:[{name:"_name",type:"bytes32"},{name:"_newOwner",type:"address"}],name:"transfer",outputs:[],type:"function"},{constant:!1,inputs:[{name:"_name",type:"bytes32"},{name:"_registrar",type:"address"}],name:"setSubRegistrar",outputs:[],type:"function"},{constant:!1,inputs:[],name:"Registrar",outputs:[],type:"function"},{constant:!1,inputs:[{name:"_name",type:"bytes32"},{name:"_a",type:"address"},{name:"_primary",type:"bool"}],name:"setAddress",outputs:[],type:"function"},{constant:!1,inputs:[{name:"_name",type:"bytes32"},{name:"_content",type:"bytes32"}],name:"setContent",outputs:[],type:"function"},{constant:!1,inputs:[{name:"_name",type:"bytes32"}],name:"disown",outputs:[],type:"function"},{anonymous:!1,inputs:[{indexed:!0,name:"_name",type:"bytes32"},{indexed:!1,name:"_winner",type:"address"}],name:"AuctionEnded",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"_name",type:"bytes32"},{indexed:!1,name:"_bidder",type:"address"},{indexed:!1,name:"_value",type:"uint256"}],name:"NewBid",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"name",type:"bytes32"}],name:"Changed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"name",type:"bytes32"},{indexed:!0,name:"addr",type:"address"}],name:"PrimaryChanged",type:"event"}]},UIsv:function(t,e){t.exports=[{constant:!0,inputs:[{name:"_name",type:"bytes32"}],name:"owner",outputs:[{name:"",type:"address"}],type:"function"},{constant:!1,inputs:[{name:"_name",type:"bytes32"},{name:"_refund",type:"address"}],name:"disown",outputs:[],type:"function"},{constant:!0,inputs:[{name:"_name",type:"bytes32"}],name:"addr",outputs:[{name:"",type:"address"}],type:"function"},{constant:!1,inputs:[{name:"_name",type:"bytes32"}],name:"reserve",outputs:[],type:"function"},{constant:!1,inputs:[{name:"_name",type:"bytes32"},{name:"_newOwner",type:"address"}],name:"transfer",outputs:[],type:"function"},{constant:!1,inputs:[{name:"_name",type:"bytes32"},{name:"_a",type:"address"}],name:"setAddr",outputs:[],type:"function"},{anonymous:!1,inputs:[{indexed:!0,name:"name",type:"bytes32"}],name:"Changed",type:"event"}]},i38K:function(t,e){},oPsS:function(t,e){t.exports=[{constant:!1,inputs:[{name:"from",type:"bytes32"},{name:"to",type:"address"},{name:"value",type:"uint256"}],name:"transfer",outputs:[],type:"function"},{constant:!1,inputs:[{name:"from",type:"bytes32"},{name:"to",type:"address"},{name:"indirectId",type:"bytes32"},{name:"value",type:"uint256"}],name:"icapTransfer",outputs:[],type:"function"},{constant:!1,inputs:[{name:"to",type:"bytes32"}],name:"deposit",outputs:[],payable:!0,type:"function"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"AnonymousDeposit",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"bytes32"},{indexed:!1,name:"value",type:"uint256"}],name:"Deposit",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"bytes32"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,name:"from",type:"bytes32"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"indirectId",type:"bytes32"},{indexed:!1,name:"value",type:"uint256"}],name:"IcapTransfer",type:"event"}]}},["NHnr"]);
//# sourceMappingURL=app.8f4ec9a1e3ef954cace4.js.map